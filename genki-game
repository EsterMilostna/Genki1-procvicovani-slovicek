<!doctype html>
<html lang="cs">
<head>
<meta name="description" content="InteraktivnÃ­ hra na procviÄovÃ¡nÃ­ japonÅ¡tiny podle uÄebnice Genki I. ProcviÄujte slovÃ­Äka psanÃ­m v japonÅ¡tinÄ›.">
<meta name="author" content="Ester MilostnÃ¡">
<meta property="og:title" content="Genki Vocabulary Trainer">
<meta property="og:description" content="ProcviÄ si japonÅ¡tinu â€“ slovÃ­Äka z Genki I psanÃ­m, ne klikÃ¡nÃ­m!">
<meta property="og:type" content="website">

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Genki â€“ procviÄovÃ¡nÃ­ japonÅ¡tiny</title>
<style>
:root{
 --bg:#0b1220;--card:#101a2e;--muted:#7c8aa5;--accent:#7aa2ff;
 --good:#35c759;--bad:#ff453a;--warn:#ff9f0a;--text:#e6ecff;
}
*{box-sizing:border-box;}
body{
 margin:0;font-family:system-ui,-apple-system,"Noto Sans JP",sans-serif;
 background:radial-gradient(1200px 800px at 70% -10%,#132241 0%,var(--bg) 55%);
 color:var(--text);display:grid;place-items:center;padding:24px;
}
.wrap{width:min(900px,100%);display:grid;gap:16px;}
.card{
 background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
 border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:20px;
 box-shadow:0 10px 30px rgba(0,0,0,.35);backdrop-filter:blur(6px);
}
h1{margin:0 0 4px;font-size:clamp(20px,3.6vw,28px);}
.sub{color:var(--muted);font-size:14px;}
.row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;}
.grid{display:grid;grid-template-columns:1fr;gap:12px;}
@media(min-width:720px){.grid{grid-template-columns:1.2fr .8fr;align-items:start;}}
.prompt{
 font-size:clamp(18px,4vw,24px);padding:16px;border-radius:14px;
 background:var(--card);border:1px solid rgba(255,255,255,.07);
}
.big{font-size:clamp(20px,5vw,28px);font-weight:700;}
input[type=text]{
 width:100%;font-size:clamp(18px,4.5vw,24px);
 padding:14px 16px;border-radius:14px;border:1px solid rgba(255,255,255,.15);
 background:#0f1830;color:var(--text);
}
.btn{border:1px solid rgba(255,255,255,.15);background:#0f1b35;
 color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:600;}
.btn.primary{background:linear-gradient(180deg,#2748ff,#1b2dcc);border-color:#2b43ff;}
.tag{background:#101b34;padding:6px 10px;border-radius:999px;font-size:12px;}
.result{margin-top:8px;min-height:24px;font-weight:700;}
.ok{color:var(--good);} .bad{color:var(--bad);}
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;}
.stat{text-align:center;padding:10px;border-radius:10px;background:#0d1730;border:1px solid rgba(255,255,255,.08);}
.stat .v{font-weight:800;font-size:18px;}
.small{font-size:12px;color:var(--muted);}
.hr{height:1px;background:rgba(255,255,255,.08);margin:10px 0;}
.tooltip{position:relative;display:inline-block;}
.tooltip .tiptext{
 visibility:hidden;width:220px;background:#182544;color:#fff;text-align:left;
 border-radius:8px;padding:8px;position:absolute;z-index:1;bottom:125%;left:50%;
 margin-left:-110px;opacity:0;transition:opacity .2s;font-size:12px;line-height:1.4;
 border:1px solid rgba(255,255,255,.15);
}
.tooltip:hover .tiptext{visibility:visible;opacity:1;}
.info{cursor:help;margin-left:4px;color:var(--accent);}
</style>
</head>
<body>
<div class="wrap">

  <div class="card">
    <h1>Genki â€“ procviÄovÃ¡nÃ­ japonÅ¡tiny</h1>
    <div class="sub">ZobrazÃ­ ÄeskÃ½ vÃ½znam â†’ napiÅ¡ japonsky (kana/kanji).  
      Enter = potvrdit, Ctrl+Enter = pÅ™eskoÄit, ? = nÃ¡povÄ›da.</div>
  </div>

  <div class="card">
    <div class="row" style="flex-wrap:wrap;gap:14px;">
      <label> Lekce:
         <select id="lesson">
    <option value="1" selected>1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
 <!--    <option value="8">8</option> -->
 <!--    <option value="9">9</option> -->
 <!--    <option value="10">10</option> -->
 <!--    <option value="11">11</option> -->
 <!--    <option value="12">12</option> -->
  </select>
      </label>
      <label> SmÄ›r:
        <select id="mode">
          <option value="czâ†’jp" selected>ÄŒesky â†’ JaponÅ¡tina</option>
          <option value="jpâ†’cz">JaponÅ¡tina â†’ ÄŒesky</option>
        </select>
      </label>
      <label><input type="checkbox" id="noRepeat" checked/> Bez opakovÃ¡nÃ­</label>
      <label class="tooltip">
        <input type="checkbox" id="strict"/> PÅ™Ã­snÃ© porovnÃ¡nÃ­
        <span class="info">â„¹ï¸</span>
        <span class="tiptext">V nepÅ™Ã­snÃ©m reÅ¾imu bere i varianty jako ã‹ã‚ã„ã„ / ã‚«ãƒ¯ã‚¤ã‚¤.  
        PÅ™Ã­snÃ© porovnÃ¡nÃ­ rozliÅ¡uje hiraganu, katakanu i kanji (je tÅ™eba psÃ¡t pÅ™esnÄ›).</span>
      </label>
<label><input type="checkbox" id="autoNext" /> Po chybÄ› automaticky pÅ™eskoÄit</label>
      <button id="reset" class="btn">â†º Reset</button>
    </div>
  </div>

  <div class="grid">
    <div class="card">
      <div class="prompt">
        <div class="small">ZadÃ¡nÃ­</div>
        <div id="cz" class="big">â€”</div>
      </div>
      <div class="row" style="margin-top:12px;">
        <input id="ans" type="text" placeholder="napiÅ¡ japonskyâ€¦" autofocus autocomplete="off"/>
        <button id="submit" class="btn primary">Potvrdit</button>
        <button id="skip" class="btn">PÅ™eskoÄit</button>
        <button id="hint" class="btn">NÃ¡povÄ›da</button>
      </div>
      <div id="feedback" class="result"></div>
    </div>

    <div class="card">
      <div class="tag">ğŸ“Š Statistiky</div>
      <div class="hr"></div>
      <div class="stats">
        <div class="stat"><div class="small">SprÃ¡vnÄ›</div><div id="ok" class="v">0</div></div>
        <div class="stat"><div class="small">ChybnÄ›</div><div id="bad" class="v">0</div></div>
        <div class="stat"><div class="small">SÃ©rie</div><div id="streak" class="v">0</div></div>
        <div class="stat"><div class="small">ÄŒas</div><div id="time" class="v">0:00</div></div>
      </div>
    </div>
  </div>

</div>

<script>
/* === data pro vÃ­c lekcÃ­ (zkrÃ¡cenÄ›, zbytek se pozdÄ›ji doplnÃ­) === */
const LESSONS = {
  1: [
  { accepted: ["ã‚ãŸã—"], promptCZ: "jÃ¡" },
  { accepted: ["ã‚ãªãŸ"], promptCZ: "ty" },
  { accepted: ["ã›ã‚“ã›ã„"], promptCZ: "uÄitel" },
  { accepted: ["ãŒãã›ã„"], promptCZ: "student" },
  { accepted: ["ã‚Šã‚…ã†ãŒãã›ã„"], promptCZ: "zahraniÄnÃ­ student" },
  { accepted: ["ã ã„ãŒã"], promptCZ: "univerzita" },
  { accepted: ["ã­ã‚“ã›ã„"], promptCZ: "roÄnÃ­k (student)" },
  { accepted: ["ã„ã¡ã­ã‚“ã›ã„"], promptCZ: "prvÃ¡k" },
  { accepted: ["ã›ã‚“ã“ã†"], promptCZ: "obor studia" },
  { accepted: ["ã«ã»ã‚“"], promptCZ: "Japonsko" },
  { accepted: ["ã‚¢ãƒ¡ãƒªã‚«"], promptCZ: "Amerika" },
  { accepted: ["ã‚¤ã‚®ãƒªã‚¹"], promptCZ: "Anglie" },
  { accepted: ["ã«ã»ã‚“ã˜ã‚“"], promptCZ: "Japonec" },
  { accepted: ["ã‚¢ãƒ¡ãƒªã‚«ã˜ã‚“"], promptCZ: "AmeriÄan" },
  { accepted: ["ã„ã¾"], promptCZ: "teÄ" },
  { accepted: ["ãªã‚“"], promptCZ: "co (otÃ¡zka)" },
  { accepted: ["ãªã‚“ã•ã„"], promptCZ: "kolik let (vÄ›k)" },
  { accepted: ["ã˜"], promptCZ: "hodina" },
  { accepted: ["ã·ã‚“"], promptCZ: "minuta" },
  { accepted: ["ã”ãœã‚“"], promptCZ: "dopoledne" },
  { accepted: ["ã”ã”"], promptCZ: "odpoledne" },
  { accepted: ["ï½ã•ã„"], promptCZ: "vÄ›k" },
  { accepted: ["ï½ã•ã‚“"], promptCZ: "zdvoÅ™ilÃ¡ koncovka" },
  { accepted: ["ï½ã˜ã‚“"], promptCZ: "nÃ¡rodnost" },
  { accepted: ["ãªã‚“ã˜"], promptCZ: "kolik je hodin" },
  { accepted: ["ãªã‚“ã­ã‚“ã›ã„"], promptCZ: "kterÃ½ roÄnÃ­k" },
  { accepted: ["ã¯ã„"], promptCZ: "ano" },
  { accepted: ["ã„ã„ãˆ"], promptCZ: "ne" },
  { accepted: ["ï½ã§ã™"], promptCZ: "zdvoÅ™ilÃ½ tvar slovesa bÃ½t" },
  { accepted: ["ï½ã®"], promptCZ: "spojka pro pÅ™Ã­vlastky" },
  { accepted: ["ã§ã‚“ã‚ã°ã‚“ã”ã†"], promptCZ: "telefonnÃ­ ÄÃ­slo" },
  { accepted: ["ã°ã‚“ã”ã†"], promptCZ: "ÄÃ­slo" },
  { accepted: ["ã‚Œã„"], promptCZ: "nula" },
  { accepted: ["ã„ã¡"], promptCZ: "jedna" },
  { accepted: ["ã«"], promptCZ: "dva" },
  { accepted: ["ã•ã‚“"], promptCZ: "tÅ™i" },
  { accepted: ["ã‚ˆã‚“","ã—"], promptCZ: "ÄtyÅ™i" },
  { accepted: ["ã”"], promptCZ: "pÄ›t" },
  { accepted: ["ã‚ã"], promptCZ: "Å¡est" },
  { accepted: ["ãªãª","ã—ã¡"], promptCZ: "sedm" },
  { accepted: ["ã¯ã¡"], promptCZ: "osm" },
  { accepted: ["ãã‚…ã†","ã"], promptCZ: "devÄ›t" },
  { accepted: ["ã˜ã‚…ã†"], promptCZ: "deset" },
  { accepted: ["ã˜ã‚…ã†ã„ã¡"], promptCZ: "jedenÃ¡ct" },
  { accepted: ["ã˜ã‚…ã†ã«"], promptCZ: "dvanÃ¡ct" },
],
 2: [
  { accepted: ["ã“ã‚Œ"], promptCZ: "toto (u mÄ›)" },
  { accepted: ["ãã‚Œ"], promptCZ: "toto (u tebe)" },
  { accepted: ["ã‚ã‚Œ"], promptCZ: "tamto (vzdÃ¡lenÃ©)" },
  { accepted: ["ã©ã‚Œ"], promptCZ: "kterÃ©" },

  { accepted: ["ã“ã®"], promptCZ: "tento" },
  { accepted: ["ãã®"], promptCZ: "ten" },
  { accepted: ["ã‚ã®"], promptCZ: "tamten" },
  { accepted: ["ã©ã®"], promptCZ: "kterÃ½" },

  { accepted: ["ã“ã“"], promptCZ: "tady" },
  { accepted: ["ãã“"], promptCZ: "tam " },
  { accepted: ["ã‚ãã“"], promptCZ: "tam (daleko)" },
  { accepted: ["ã©ã“"], promptCZ: "kde" },

  { accepted: ["ã ã‚Œ"], promptCZ: "kdo" },
  { accepted: ["ãŠã„ã—ã„"], promptCZ: "chutnÃ½" },
  { accepted: ["ã•ã‹ãª"], promptCZ: "ryba" },
  { accepted: ["ã¨ã‚“ã‹ã¤"], promptCZ: "smaÅ¾enÃ© vepÅ™ovÃ© maso" },
  { accepted: ["ã«ã"], promptCZ: "maso" },
  { accepted: ["ã‚„ã•ã„"], promptCZ: "zelenina" },
  { accepted: ["ã‹ã„ã—ã‚ƒã„ã‚“"], promptCZ: "zamÄ›stnanec firmy" },
  { accepted: ["ã„ã—ã‚ƒ"], promptCZ: "lÃ©kaÅ™ / doktor" },
  { accepted: ["ã‹ã„ã‘ã„ã—"], promptCZ: "ÃºÄetnÃ­" },
  { accepted: ["ã¹ã‚“ã”ã—"], promptCZ: "prÃ¡vnÃ­k" },
  { accepted: ["ãŠã‹ã­"], promptCZ: "penÃ­ze" },
  { accepted: ["ã¤ããˆ"], promptCZ: "stÅ¯l" },
  { accepted: ["ã¨ã‘ã„"], promptCZ: " hodinky" },
  { accepted: ["ãƒšãƒ³"], promptCZ: "pero" },
  { accepted: ["ã˜ã—ã‚‡"], promptCZ: "slovnÃ­k" },
  { accepted: ["ã‹ã°ã‚“"], promptCZ: "taÅ¡ka" },
  { accepted: ["ãã¤"], promptCZ: "boty" },
  { accepted: ["ã•ã„ãµ"], promptCZ: "penÄ›Å¾enka" },
  { accepted: ["ã‚¸ãƒ¼ãƒ³ã‚º"], promptCZ: "dÅ¾Ã­ny" },
  { accepted: ["ã¼ã†ã—"], promptCZ: "klobouk/Äepice" },

  { accepted: ["ã„ãã‚‰"], promptCZ: "kolik" },
  { accepted: ["ãˆã‚“"], promptCZ: "jen (japonskÃ¡ mÄ›na)" },

  { accepted: ["ãŸã‹ã„"], promptCZ: "drahÃ½" },
  { accepted: ["ã‚„ã™ã„"], promptCZ: "levnÃ½" },

  { accepted: ["ã„ã‚‰ã£ã—ã‚ƒã„ã¾ã›"], promptCZ: "VÃ­tejte (v obchodÄ› / restauraci)" },
  { accepted: ["ãã ã•ã„"], promptCZ: "prosÃ­m (dejte mi ...)" },
  { accepted: ["ã©ã†ã"], promptCZ: "prosÃ­m (pÅ™i nabÃ­zenÃ­)" },
  { accepted: ["ã©ã†ã‚‚"], promptCZ: "dÃ­ky; zdvoÅ™ilostnÃ­ obrat" },
],

  3: [
  // === Genki I â€“ Lesson 3: Daily Activities ===
  { accepted: ["ãˆã„ãŒ"], promptCZ: "film" },
  { accepted: ["ãŠã‚“ãŒã"], promptCZ: "hudba" },
  { accepted: ["ã–ã£ã—"], promptCZ: "Äasopis" },
  { accepted: ["ã‚¹ãƒãƒ¼ãƒ„"], promptCZ: "sport" },
  { accepted: ["ãƒ‡ãƒ¼ãƒˆ"], promptCZ: "rande" },
  { accepted: ["ãƒ†ãƒ‹ã‚¹"], promptCZ: "tenis" },
  { accepted: ["ãƒ†ãƒ¬ãƒ“"], promptCZ: "televize" },
  { accepted: ["ã‚ã•ã”ã¯ã‚“"], promptCZ: "snÃ­danÄ›" },
  { accepted: ["ã²ã‚‹ã”ã¯ã‚“"], promptCZ: "obÄ›d" },
  { accepted: ["ã°ã‚“ã”ã¯ã‚“"], promptCZ: "veÄeÅ™e" },
  { accepted: ["ã†ã¡"], promptCZ: "domov" },
  { accepted: ["ãŒã£ã“ã†"], promptCZ: "Å¡kola" },
  { accepted: ["ã‚ã•"], promptCZ: "rÃ¡no" },
  { accepted: ["ã‚ã—ãŸ"], promptCZ: "zÃ­tra" },
  { accepted: ["ãã‚‡ã†"], promptCZ: "dnes" },
  { accepted: ["ã¾ã„ã«ã¡"], promptCZ: "kaÅ¾dÃ½ den" },
  { accepted: ["ã¾ã„ã°ã‚“"], promptCZ: "kaÅ¾dÃ½ veÄer" },
  { accepted: ["ã—ã‚…ã†ã¾ã¤"], promptCZ: "vÃ­kend" },
  { accepted: ["ã©ã‚ˆã†ã³"], promptCZ: "sobota" },
  { accepted: ["ã«ã¡ã‚ˆã†ã³"], promptCZ: "nedÄ›le" },
  { accepted: ["ã„ã"], promptCZ: "jÃ­t" },
  { accepted: ["ã‹ãˆã‚‹"], promptCZ: "vrÃ¡tit se" },
  { accepted: ["ãã"], promptCZ: "poslouchat" },
  { accepted: ["ã®ã‚€"], promptCZ: "pÃ­t" },
  { accepted: ["ã¯ãªã™"], promptCZ: "mluvit" },
  { accepted: ["ã‚ˆã‚€"], promptCZ: "ÄÃ­st" },
  { accepted: ["ãŠãã‚‹"], promptCZ: "vstÃ¡vat" },
  { accepted: ["ãŸã¹ã‚‹"], promptCZ: "jÃ­st" },
  { accepted: ["ã­ã‚‹"], promptCZ: "spÃ¡t" },
  { accepted: ["ã¿ã‚‹"], promptCZ: "sledovat" },
  { accepted: ["ãã‚‹"], promptCZ: "pÅ™ijÃ­t" },
  { accepted: ["ã™ã‚‹"], promptCZ: "dÄ›lat" },
  { accepted: ["ã¹ã‚“ãã‚‡ã†ã™ã‚‹"], promptCZ: "studovat" },
  { accepted: ["ã„ã„"], promptCZ: "dobrÃ½" },
  { accepted: ["ã¯ã‚„ã„"], promptCZ: "rychlÃ½" },
  { accepted: ["ã‚ã¾ã‚Š"], promptCZ: "moc neâ€¦ (s negacÃ­)" },
  { accepted: ["ãœã‚“ãœã‚“"], promptCZ: "vÅ¯bec neâ€¦ (s negacÃ­)" },
  { accepted: ["ãŸã„ã¦ã„"], promptCZ: "obvykle" },
  { accepted: ["ã¡ã‚‡ã£ã¨"], promptCZ: "trochu" },
  { accepted: ["ã¨ãã©ã"], promptCZ: "obÄas" },
  { accepted: ["ã‚ˆã"], promptCZ: "Äasto" },
  { accepted: ["ãã†ã§ã™"], promptCZ: "to je pravda" },
  { accepted: ["ã§ã‚‚"], promptCZ: "ale" },
  { accepted: ["ã©ã†ã§ã™ã‹"], promptCZ: "JakÃ© je to? Co Å™Ã­kÃ¡Å¡ na...?" },
  { accepted: ["ãªã«"], promptCZ: "co" },
  { accepted: ["ãªã‚“ã˜"], promptCZ: "kolik je hodin" },
  { accepted: ["ãªã‚“ã‚ˆã†ã³"], promptCZ: "kterÃ½ den" },
  { accepted: ["ï½ã”ã‚"], promptCZ: "okolo (Äas)" },
],

 4: [
  { accepted: ["ãˆã„ã”"], promptCZ: "angliÄtina" },
  { accepted: ["ã‹ã„ã‚‚ã®"], promptCZ: "nakupovÃ¡nÃ­" },
  { accepted: ["ã‚¯ãƒ©ã‚¹"], promptCZ: "tÅ™Ã­da" },
  { accepted: ["ã„ã¬"], promptCZ: "pes" },
  { accepted: ["ã­ã“"], promptCZ: "koÄka" },
  { accepted: ["ã²ã¨"], promptCZ: "ÄlovÄ›k" },
  { accepted: ["ã“ã©ã‚‚"], promptCZ: "dÃ­tÄ›" },
  { accepted: ["ã”ã¯ã‚“"], promptCZ: "rÃ½Å¾e/jÃ­dlo" },
  { accepted: ["ã—ã‚ƒã—ã‚“"], promptCZ: "fotka" },
  { accepted: ["ã¤ããˆ"], promptCZ: "stÅ¯l" },
  { accepted: ["ã¦ãŒã¿"], promptCZ: "dopis" },
  { accepted: ["ã­ã“"], promptCZ: "koÄka" },
  { accepted: ["ãƒ‘ãƒ³"], promptCZ: "chlÃ©b" },
  { accepted: ["ã²ã¨"], promptCZ: "ÄlovÄ›k" },
  { accepted: ["ã³ã‚ˆã†ã„ã‚“"], promptCZ: "kadeÅ™nictvÃ­" },
  { accepted: ["ã»ã‚“"], promptCZ: "kniha" },
  { accepted: ["ã¾ã¡"], promptCZ: "mÄ›sto" },
  { accepted: ["ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³"], promptCZ: "restaurace" },
  { accepted: ["ã„ã™"], promptCZ: "Å¾idle" },
  { accepted: ["ãŠã¦ã‚‰"], promptCZ: "chrÃ¡m" },
  { accepted: ["ã“ã†ãˆã‚“"], promptCZ: "park" },
  { accepted: ["ã‚¹ãƒ¼ãƒ‘ãƒ¼"], promptCZ: "supermarket" },
  { accepted: ["ãƒ‡ãƒ‘ãƒ¼ãƒˆ"], promptCZ: "obchodnÃ­ dÅ¯m" },
  { accepted: ["ã³ã˜ã‚…ã¤ã‹ã‚“"], promptCZ: "muzeum umÄ›nÃ­" },
  { accepted: ["ãƒ›ãƒ†ãƒ«"], promptCZ: "hotel" },
  { accepted: ["ã»ã‚“ã‚„"], promptCZ: "knihkupectvÃ­" },
  { accepted: ["ã¾ãˆ"], promptCZ: "pÅ™ed (mÃ­stnÄ› i ÄasovÄ›)" },
  { accepted: ["ã†ã—ã‚"], promptCZ: "za (mÃ­stnÄ›)" },
  { accepted: ["ãªã‹"], promptCZ: "uvnitÅ™" },
  { accepted: ["ã†ãˆ"], promptCZ: "nahoÅ™e" },
  { accepted: ["ã—ãŸ"], promptCZ: "dole" },
  { accepted: ["ã¡ã‹ã"], promptCZ: "blÃ­zko" },
  { accepted: ["ã¨ãªã‚Š"], promptCZ: "vedle" },
  { accepted: ["ã‚ã„ã "], promptCZ: "mezi" },
  { accepted: ["ãã®ã†"], promptCZ: "vÄera" },
  { accepted: ["ï½ã˜ã‹ã‚“"], promptCZ: "â€¦ hodin (dÃ©lka Äasu)" },
  { accepted: ["ã„ã¡ã˜ã‹ã‚“"], promptCZ: "jednu hodinu" },
  { accepted: ["ã›ã‚“ã—ã‚…ã†"], promptCZ: "minulÃ½ tÃ½den" },
  { accepted: ["ã¨ã"], promptCZ: "kdyÅ¾; Äas (moment)" },
  { accepted: ["ã’ã¤ã‚ˆã†ã³"], promptCZ: "pondÄ›lÃ­" },
  { accepted: ["ã‹ã‚ˆã†ã³"], promptCZ: "ÃºterÃ½" },
  { accepted: ["ã™ã„ã‚ˆã†ã³"], promptCZ: "stÅ™eda" },
  { accepted: ["ã‚‚ãã‚ˆã†ã³"], promptCZ: "Ätvrtek" },
  { accepted: ["ãã‚“ã‚ˆã†ã³"], promptCZ: "pÃ¡tek" },
  { accepted: ["ã‚ã†","ä¼šã†"], promptCZ: "setkat se" },
  { accepted: ["ã‚ã‚‹"], promptCZ: "bÃ½t (neÅ¾ivÃ© vÄ›ci)" },
  { accepted: ["ã‹ã†"], promptCZ: "koupit" },
  { accepted: ["ã‹ã"], promptCZ: "psÃ¡t" },
  { accepted: ["ã¨ã‚‹","æ’®ã‚‹"], promptCZ: "fotit" },
  { accepted: ["ã¾ã¤"], promptCZ: "Äekat" },
  { accepted: ["ã‚ã‹ã‚‹"], promptCZ: "rozumÄ›t; chÃ¡pat" },
  { accepted: ["ã„ã‚‹"], promptCZ: "bÃ½t (Å¾ivÃ© bytosti)" },
  { accepted: ["ï½ãã‚‰ã„"], promptCZ: "pÅ™ibliÅ¾nÄ›" },
  { accepted: ["ã ã‹ã‚‰"], promptCZ: "proto" },
  { accepted: ["ãŸãã•ã‚“"], promptCZ: "mnoho" },
  { accepted: ["ã¨ã¦ã‚‚"], promptCZ: "velmi" },
  { accepted: ["ã©ã†ã—ã¦"], promptCZ: "proÄ" },
  { accepted: ["ã²ã¨ã‚Šã§"], promptCZ: "sÃ¡m" },
],

 5: [
  // === Genki I â€“ Lesson 5: æ—…è¡Œã¨è¡Œãæ–¹ (Travel & Directions) ===
  { accepted: ["ã†ã¿"], promptCZ: "moÅ™e" },
  { accepted: ["ãã£ã¦"], promptCZ: "poÅ¡tovnÃ­ znÃ¡mka" },
  { accepted: ["ãã£ã·"], promptCZ: "jÃ­zdenka" },
  { accepted: ["ã‚µãƒ¼ãƒ•ã‚£ãƒ³"], promptCZ: "surfovÃ¡nÃ­" },
  { accepted: ["ã—ã‚…ãã ã„"], promptCZ: "domÃ¡cÃ­ Ãºkol" },
  { accepted: ["ãŸã¹ã‚‚ã®"], promptCZ: "jÃ­dlo" },
  { accepted: ["ãŸã‚“ã˜ã‚‡ã†ã³"], promptCZ: "narozeniny" },
  { accepted: ["ã¦ã‚“ã"], promptCZ: "poÄasÃ­" },
  { accepted: ["ã®ã¿ã‚‚ã®"], promptCZ: "pitÃ­" },
  { accepted: ["ã¯ãŒã"], promptCZ: "pohlednice" },
  { accepted: ["ãƒã‚¹"], promptCZ: "autobus" },
  { accepted: ["ã²ã“ã†ã"], promptCZ: "letadlo" },
  { accepted: ["ã¸ã‚„"], promptCZ: "pokoj" },
  { accepted: ["ã¼ã"], promptCZ: "jÃ¡ (pouÅ¾Ã­vajÃ­ muÅ¾i)" },
  { accepted: ["ã‚„ã™ã¿"], promptCZ: "volno" },
  { accepted: ["ã‚Šã‚‡ã“ã†"], promptCZ: "cestovÃ¡nÃ­" },
  { accepted: ["ã‚ãŸã‚‰ã—ã„","æ–°ã—ã„"], promptCZ: "novÃ½" },
  { accepted: ["ã‚ã¤ã„","æš‘ã„"], promptCZ: "horkÃ½ (poÄasÃ­)" },
  { accepted: ["ã„ããŒã—ã„"], promptCZ: "zaneprÃ¡zdnÄ›nÃ½" },
  { accepted: ["ãŠãŠãã„","å¤§ãã„"], promptCZ: "velkÃ½" },
  { accepted: ["ãŠã‚‚ã—ã‚ã„"], promptCZ: "zÃ¡bavnÃ½" },
  { accepted: ["ã‹ã£ã“ã„ã„"], promptCZ: "cool" },
  { accepted: ["ã“ã‚ã„"], promptCZ: "straÅ¡idelnÃ½" },
  { accepted: ["ã•ã‚€ã„","å¯’ã„"], promptCZ: "studenÃ½ (poÄasÃ­)" },
  { accepted: ["ãŸã®ã—ã„"], promptCZ: "zÃ¡bavnÃ½" },
  { accepted: ["ã¡ã„ã•ã„","å°ã•ã„"], promptCZ: "malÃ½" },
  { accepted: ["ã¤ã¾ã‚‰ãªã„"], promptCZ: "nudnÃ½" },
  { accepted: ["ãµã‚‹ã„","å¤ã„"], promptCZ: "starÃ½ (vÄ›c, ne ÄlovÄ›k)" },
  { accepted: ["ã‚€ãšã‹ã—ã„"], promptCZ: "tÄ›Å¾kÃ½ (obtÃ­Å¾nÃ½)" },
  { accepted: ["ã‚„ã•ã—ã„"], promptCZ: "snadnÃ½/milÃ½ (ÄlovÄ›k)" },
  { accepted: ["ã‚„ã™ã„"], promptCZ: "levnÃ½" },
  { accepted: ["ãã‚‰ã„","å«Œã„"], promptCZ: "nemÃ­t rÃ¡d" },
  { accepted: ["ãã‚Œã„"], promptCZ: "krÃ¡snÃ½; ÄistÃ½" },
  { accepted: ["ã’ã‚“ã","å…ƒæ°—"], promptCZ: "energickÃ½/zdravÃ½" },
  { accepted: ["ã—ãšã‹","é™ã‹"], promptCZ: "klidnÃ½" },
  { accepted: ["ã™ã","å¥½ã"], promptCZ: "mÃ­t rÃ¡d" },
  { accepted: ["ã ã„ãã‚‰ã„","å¤§å«Œã„"], promptCZ: "nenÃ¡vidÄ›t" },
  { accepted: ["ã ã„ã™ã","å¤§å¥½ã"], promptCZ: "mÃ­t velmi rÃ¡d" },
  { accepted: ["ã«ãã‚„ã‹"], promptCZ: "Å¾ivÃ½ (mÃ­sto)" },
  { accepted: ["ã²ã¾"], promptCZ: "volnÃ½ (mÃ­t Äas)" },
  { accepted: ["ãŠã‚ˆã","æ³³ã"], promptCZ: "plavat" },
  { accepted: ["ãã","èã"], promptCZ: "ptÃ¡t se/slyÅ¡et" },
  { accepted: ["ã®ã‚‹","ä¹—ã‚‹"], promptCZ: "jet" },
  { accepted: ["ã‚„ã‚‹"], promptCZ: "dÄ›lat; vykonÃ¡vat (neformÃ¡lnÄ›)" },
  { accepted: ["ã§ã‹ã‘ã‚‹"], promptCZ: "vyjÃ­t ven; odejÃ­t" },
  { accepted: ["ã„ã£ã—ã‚‡ã«"], promptCZ: "spoleÄnÄ›" },
  { accepted: ["ã™ã”ã"], promptCZ: "velmi; hroznÄ› moc" },
  { accepted: ["ã ã„ã˜ã‚‡ã†ã¶"], promptCZ: "v poÅ™Ã¡dku; nevadÃ­" },
  { accepted: ["ã¨ã¦ã‚‚"], promptCZ: "velmi" },
  { accepted: ["ã©ã‚“ãª"], promptCZ: "jakÃ½ (typ...)" },
  { accepted: ["ï½ã¾ã„"], promptCZ: "ÄÃ­slovka pro plochÃ© vÄ›ci (listy, papÃ­ryâ€¦)" },
  { accepted: ["ï½ã¾ã§"], promptCZ: "do (mÃ­sto, Äas)" },
  { accepted: ["ï½ã¨"], promptCZ: "s (spolu s nÄ›kÃ½m)" },
  { accepted: ["ã ã„ã™ãã§ã™"], promptCZ: "mÃ¡m moc rÃ¡d (zdvoÅ™ile)" },
],

 6: [
  // === Genki I â€“ Lesson 6: Weekend Activities ===
  { accepted: ["ãŠã‹ã­"], promptCZ: "penÃ­ze" },
  { accepted: ["ãŠãµã‚"], promptCZ: "koupel" },
  { accepted: ["ã‹ã‚“ã˜"], promptCZ: "znak kandÅ¾i" },
  { accepted: ["ãã‚‡ã†ã‹ã—ã‚‡"], promptCZ: "uÄebnice" },
  { accepted: ["ã“ã‚“ã—ã‚…ã†"], promptCZ: "tento tÃ½den" },
  { accepted: ["ã—ã¿ã‚“ã³ã‚‡ã†ã„ã‚“"], promptCZ: "mÄ›stskÃ¡ nemocnice" },
  { accepted: ["ã¤ã"], promptCZ: "dalÅ¡Ã­" },
  { accepted: ["ãƒ†ãƒ¬ãƒ“ã‚²ãƒ¼ãƒ "], promptCZ: "videohra" },
  { accepted: ["ã§ã‚“ã—ã‚ƒ"], promptCZ: "vlak" },
  { accepted: ["ã«ã‚‚ã¤"], promptCZ: "zavazadlo; balÃ­k" },
  { accepted: ["ãƒšãƒ¼ã‚¸"], promptCZ: "strÃ¡nka" },
  { accepted: ["ã¾ã©"], promptCZ: "okno" },
  { accepted: ["ã‚ˆã‚‹"], promptCZ: "noc; veÄer" },
  { accepted: ["ã‚‰ã„ã—ã‚…ã†"], promptCZ: "pÅ™Ã­Å¡tÃ­ tÃ½den" },
  { accepted: ["ã‚‰ã„ã­ã‚“"], promptCZ: "pÅ™Ã­Å¡tÃ­ rok" },
  { accepted: ["ã‚‰ã„ã’ã¤"], promptCZ: "pÅ™Ã­Å¡tÃ­ mÄ›sÃ­c" },

  { accepted: ["ãŸã„ã¸ã‚“"], promptCZ: "tÄ›Å¾kÃ©; nÃ¡roÄnÃ© (situace)" },
  { accepted: ["ãŠãã"], promptCZ: "pozdÄ›" },

  { accepted: ["ã‚ãã¶"], promptCZ: "bavit se; hrÃ¡t si" },
  { accepted: ["ã„ãã"], promptCZ: "spÄ›chat" },
  { accepted: ["ã‹ãˆã™"], promptCZ: "vrÃ¡tit (vÄ›c)" },
  { accepted: ["ã‘ã™"], promptCZ: "vypnout; zhasnout" },
  { accepted: ["ã—ã¬"], promptCZ: "zemÅ™Ã­t" },
  { accepted: ["ã™ã‚ã‚‹"], promptCZ: "sednout si" },
  { accepted: ["ãŸã¤"], promptCZ: "vstÃ¡t" },
  { accepted: ["ãŸã°ã“ã‚’ã™ã†"], promptCZ: "kouÅ™it" },
  { accepted: ["ã¤ã‹ã†"], promptCZ: "pouÅ¾Ã­t" },
  { accepted: ["ã¦ã¤ã ã†"], promptCZ: "pomoci" },
  { accepted: ["ã¯ã„ã‚‹"], promptCZ: "vstoupit" },
  { accepted: ["ã‚‚ã¤"], promptCZ: "drÅ¾et; nÃ©st" },
  { accepted: ["ã‚„ã™ã‚€"], promptCZ: "odpoÄÃ­vat; chybÄ›t (ve Å¡kole, prÃ¡ci)" },
  { accepted: ["ã‚ã‘ã‚‹"], promptCZ: "otevÅ™Ã­t (nÄ›co)" },
  { accepted: ["ãŠã—ãˆã‚‹"], promptCZ: "uÄit; vysvÄ›tlit" },
  { accepted: ["ãŠã‚Šã‚‹"], promptCZ: "vystoupit (z dopravnÃ­ho prostÅ™edku)" },
  { accepted: ["ã‹ã‚Šã‚‹"], promptCZ: "pÅ¯jÄit si" },
  { accepted: ["ã—ã‚ã‚‹"], promptCZ: "zavÅ™Ã­t (nÄ›co)" },
  { accepted: ["ã¤ã‘ã‚‹"], promptCZ: "zapnout (svÄ›tlo, TVâ€¦)" },
  { accepted: ["ã§ã‚“ã‚ã‚’ã‹ã‘ã‚‹"], promptCZ: "telefonovat" },
  { accepted: ["ã‚ã™ã‚Œã‚‹"], promptCZ: "zapomenout" },
  { accepted: ["ã¤ã‚Œã¦ãã‚‹"], promptCZ: "pÅ™ivÃ©st (osobu)" },
  { accepted: ["ã‚‚ã£ã¦ãã‚‹"], promptCZ: "pÅ™inÃ©st (vÄ›c)" },
  { accepted: ["ã‚ã¨ã§"], promptCZ: "pozdÄ›ji" },
  { accepted: ["ãŠãã"], promptCZ: "pozdÄ›" },
  { accepted: ["ã‘ã£ã“ã†ã§ã™"], promptCZ: "ne, dÄ›kuji (zdvoÅ™ile odmÃ­tnout)" },
  { accepted: ["ã™ã"], promptCZ: "hned; okamÅ¾itÄ›" },
  { accepted: ["ã»ã‚“ã¨ã†ã§ã™ã‹"], promptCZ: "opravdu?" },
  { accepted: ["ã‚†ã£ãã‚Š"], promptCZ: "pomalu; v klidu" },
  { accepted: ["ã„ã„ã§ã™ã‚ˆ"], promptCZ: "to je v poÅ™Ã¡dku; jasnÄ›" },
  { accepted: ["ï½ã‹ã‚‰"], promptCZ: "protoÅ¾e; od (Äas, mÃ­sto)" },
  { accepted: ["ã©ã†ã"], promptCZ: "prosÃ­m (nabÃ­dka)" },
  { accepted: ["ã ã‹ã‚‰"], promptCZ: "proto; tudÃ­Å¾" },
],

  7: [
    // === GENKI I â€“ LESSON 7 ===
    { accepted: ["ã‚ã­"], promptCZ: "starÅ¡Ã­ sestra (moje)" },
    { accepted: ["ã‚¢ãƒ‘ãƒ¼ãƒˆ"], promptCZ: "apartmÃ¡n" },
    { accepted: ["ã„ã‚‚ã†ã¨"], promptCZ: "mladÅ¡Ã­ sestra" },
    { accepted: ["ã†ãŸ"], promptCZ: "pÃ­seÅˆ" },
    { accepted: ["ãŠã˜ã„ã•ã‚“"], promptCZ: "dÄ›deÄek" },
    { accepted: ["ãŠã¨ã†ã¨"], promptCZ: "mladÅ¡Ã­ bratr" },
    { accepted: ["ãŠã«ã„ã•ã‚“"], promptCZ: "starÅ¡Ã­ bratr (cizÃ­)" },
    { accepted: ["ãŠã­ãˆã•ã‚“"], promptCZ: "starÅ¡Ã­ sestra (cizÃ­)" },
    { accepted: ["ãŠã°ã‚ã•ã‚“"], promptCZ: "babiÄka" },
    { accepted: ["ç”·ã®äºº","ãŠã¨ã“ã®ã²ã¨"], promptCZ: "muÅ¾" },
    { accepted: ["å¥³ã®äºº","ãŠã‚“ãªã®ã²ã¨"], promptCZ: "Å¾ena" },
    { accepted: ["ã‹ã„ã—ã‚ƒ"], promptCZ: "firma" },
    { accepted: ["ã‹ãã"], promptCZ: "rodina" },
    { accepted: ["ã‹ã¿"], promptCZ: "vlasy" },
    { accepted: ["ãã‚‡ã†ã ã„"], promptCZ: "sourozenci" },
    { accepted: ["ãã¡"], promptCZ: "Ãºsta" },
    { accepted: ["ãã«"], promptCZ: "zemÄ›, stÃ¡t" },
    { accepted: ["ãã‚‹ã¾"], promptCZ: "auto" },
    { accepted: ["ã‚²ãƒ¼ãƒ "], promptCZ: "hra" },
    { accepted: ["ã‚³ãƒ³ãƒ“ãƒ‹"], promptCZ: "obchod " },
    { accepted: ["ã‚µãƒ¼ã‚¯ãƒ«"], promptCZ: "krouÅ¾ek/klub" },
    { accepted: ["ã—ã‚‡ãã©ã†"], promptCZ: "jÃ­delna" },
    { accepted: ["ã¡ã¡"], promptCZ: "otec (mÅ¯j)" },
    { accepted: ["ãƒ‡ã‚£ãƒ¼ãƒ–ã‚¤ãƒ‡ã‚£ãƒ¼","DVD","ï¾ƒï¾ï½¨ï½°ï¾Œï¾ï½²ï¾ƒï¾ï½¨ï½°"], promptCZ: "DVD" },
    { accepted: ["ã¯ã¯"], promptCZ: "matka (mÃ¡)" },
    { accepted: ["ã‚"], promptCZ: "oko" },
    { accepted: ["ã‚ãŒã­","çœ¼é¡"], promptCZ: "brÃ½le" },
    { accepted: ["ã‚ãŸã¾ãŒã„ã„"], promptCZ: "chytrÃ½" },
    { accepted: ["ã‹ã‚ã„ã„"], promptCZ: "roztomilÃ½" },
    { accepted: ["ã›ãŒãŸã‹ã„","èƒŒãŒé«˜ã„"], promptCZ: "vysokÃ½ (postavou)" },
    { accepted: ["ã›ãŒã²ãã„","èƒŒãŒä½ã„"], promptCZ: "malÃ½ (postavou)" },
    { accepted: ["ãªãŒã„","é•·ã„"], promptCZ: "dlouhÃ½" },
    { accepted: ["ã¿ã˜ã‹ã„","çŸ­ã„"], promptCZ: "krÃ¡tkÃ½ (dÃ©lka)" },
    { accepted: ["ã—ã‚“ã›ã¤","è¦ªåˆ‡"], promptCZ: " milÃ½" },
    { accepted: ["ã¹ã‚“ã‚Š","ä¾¿åˆ©"], promptCZ: "pohodlnÃ½" },
    { accepted: ["ã†ãŸã†","æ­Œã†"], promptCZ: "zpÃ­vat" },
    { accepted: ["ã‹ã¶ã‚‹"], promptCZ: "nasadit si (na hlavu)" },
    { accepted: ["ã¯ã"], promptCZ: "oblÃ©knout (spodnÃ­ ÄÃ¡st tÄ›la)" },
    { accepted: ["ã—ã‚‹","çŸ¥ã‚‹"], promptCZ: "poznat" },
    { accepted: ["ã™ã‚€","ä½ã‚€"], promptCZ: "bydlet" },
    { accepted: ["ã‚ãŒã­ã‚’ã‹ã‘ã‚‹","çœ¼é¡ã‚’ã‹ã‘ã‚‹"], promptCZ: "nasadit si brÃ½le" },
    { accepted: ["ãã‚‹","ç€ã‚‹"], promptCZ: "oblÃ©knout (nahoÅ™e)" },
    { accepted: ["ã¤ã¨ã‚ã‚‹","å‹¤ã‚ã‚‹"], promptCZ: "bÃ½t zamÄ›stnÃ¡n" },
    { accepted: ["ãµã¨ã‚‹","å¤ªã‚‹"], promptCZ: "pÅ™ibrat" },
    { accepted: ["ã‚„ã›ã‚‹"], promptCZ: "zhubnout" },
    { accepted: ["ã‘ã£ã“ã‚“ã™ã‚‹","çµå©šã™ã‚‹"], promptCZ: "oÅ¾enit se / vdÃ¡t se" },
    { accepted: ["ï½ãŒ"], promptCZ: "ale (pÅ™echod mezi vÄ›tami)" },
    { accepted: ["ãªã«ã‚‚"], promptCZ: "nic (s negacÃ­)" },
    { accepted: ["ï½ã«ã‚“","ã«ã‚“"], promptCZ: "poÄet lidÃ­" },
    { accepted: ["ã²ã¨ã‚Š","ä¸€äºº"], promptCZ: "jedna osoba" },
    { accepted: ["ãµãŸã‚Š","äºŒäºº"], promptCZ: "dvÄ› osoby" },
    { accepted: ["ã¹ã¤ã«"], promptCZ: "nijak zvlÃ¡Å¡Å¥" },
    { accepted: ["ã‚‚ã—ã‚‚ã—"], promptCZ: "halÃ³" },
    { accepted: ["ã‚‚ã¡ã‚ã‚“"], promptCZ: "samozÅ™ejmÄ›" },
    { accepted: ["ã‚ˆã‹ã£ãŸã‚‰"], promptCZ: "pokud chceÅ¡" },
  ],
  8: [
    // Lesson 8 â€“ bude doplnÄ›na pozdÄ›ji
  ],
  9: [
    // Lesson 9
  ],
  10: [
    // Lesson 10
  ],
  11: [
    // Lesson 11
  ],
  12: [
    // Lesson 12
  ],
};

/* === pomocnÃ© funkce === */
const nfkc=s=>s.normalize("NFKC").trim();
const canonJP=(s,strict)=>nfkc(s)
 .replace(/\s+/g,"").replace(/[ãƒ»ï½¥\u30FB]/g,"").replace(/[ã€œï½]/g,"ï½");
const equalsJP=(a,b,strict)=>canonJP(a,strict)===canonJP(b,strict);
function formatTime(sec){const m=Math.floor(sec/60);return m+":"+String(sec%60).padStart(2,"0");}

/* === stav === */
let vocab=[],queue=[],current=null,ok=0,bad=0,streak=0,start=Date.now(),timer=null;

/* === elementy === */
const E=id=>document.getElementById(id);
const els={
 cz:E("cz"),ans:E("ans"),submit:E("submit"),skip:E("skip"),hint:E("hint"),
 feedback:E("feedback"),lesson:E("lesson"),mode:E("mode"),strict:E("strict"),
 noRepeat:E("noRepeat"),reset:E("reset"),ok:E("ok"),bad:E("bad"),
 streak:E("streak"),time:E("time"), autoNext:E("autoNext") 
};

/* === logika === */
function reshuffle(){queue=[...vocab.keys()];for(let i=queue.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[queue[i],queue[j]]=[queue[j],queue[i]];}}
function pickNext(){
 if(els.noRepeat.checked){if(queue.length===0)reshuffle();current=queue.shift();}
 else current=Math.floor(Math.random()*vocab.length);
 const it=vocab[current];
 els.cz.textContent=(els.mode.value==="czâ†’jp")?it.promptCZ:it.accepted[0];
 els.ans.value="";els.feedback.textContent="";
}
function updateStats(){els.ok.textContent=ok;els.bad.textContent=bad;els.streak.textContent=streak;}
function startClock(){if(timer)clearInterval(timer);start=Date.now();
 timer=setInterval(()=>{const s=Math.floor((Date.now()-start)/1000);els.time.textContent=formatTime(s);},500);}
function check() {
  const it = vocab[current],
        u = els.ans.value,
        strict = els.strict.checked;

  if (els.mode.value === "czâ†’jp") {
    const pass = it.accepted.some(a => equalsJP(u, a, strict));
    if (pass) {
      ok++; streak++;
      els.feedback.textContent = "âœ… SprÃ¡vnÄ›";
      updateStats();
      setTimeout(pickNext, 400);
    } else {
      bad++; streak = 0;
      els.feedback.textContent = "âŒ " + it.accepted.join(" / ");
      updateStats();

      // ğŸ’¡ novÃ½ kÃ³d:
      if (els.autoNext && els.autoNext.checked) {
        setTimeout(pickNext, 800); // po 0.8 s zobrazÃ­ novÃ© slovo
      }
    }
  } else {
    const target = nfkc(it.promptCZ);
    const pass = u.includes(target.slice(0, 2));
    if (pass) {
      ok++; streak++;
      els.feedback.textContent = "âœ… OK";
      setTimeout(pickNext, 400);
    } else {
      bad++; streak = 0;
      els.feedback.textContent = "âŒ " + it.promptCZ;
      // ğŸ’¡ a tady totÃ©Å¾:
      if (els.autoNext && els.autoNext.checked) {
        setTimeout(pickNext, 800);
      }
    }
    updateStats();
  }
}

function hint(){const it=vocab[current],base=it.accepted[0];
 const len=Math.min(els.ans.value.length+1,base.length);els.ans.value=base.slice(0,len);
 els.feedback.textContent="ğŸ’¡ NÃ¡povÄ›da: "+base.slice(0,len)+"â€¦";}
function skip(){bad++;streak=0;updateStats();pickNext();}
function changeLesson(){const n=els.lesson.value;vocab=LESSONS[n]||[];reshuffle();pickNext();startClock();updateStats();}

/* === ovlÃ¡dÃ¡nÃ­ === */
els.submit.onclick=check;els.skip.onclick=skip;els.hint.onclick=hint;
els.lesson.onchange=changeLesson;els.mode.onchange=pickNext;
els.reset.onclick=()=>{ok=bad=streak=0;updateStats();reshuffle();pickNext();startClock();}
document.addEventListener("keydown",e=>{
 if(e.key==="Enter"&&e.ctrlKey){e.preventDefault();skip();}
 else if(e.key==="Enter"){e.preventDefault();check();}
 else if(e.key==="?"){e.preventDefault();hint();}
});

/* === start === */
changeLesson();
</script>
</body>
</html>
